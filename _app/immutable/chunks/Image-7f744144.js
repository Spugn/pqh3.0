import{S as z,i as G,s as M,N as R,k as d,a as U,l as h,m as B,c as N,h as k,n as b,O as C,b as P,G as w,Q,af as T,B as E,o as X,X as O}from"./index-1e5da1e2.js";import{b as c}from"./paths-b4419565.js";function j(a){let n,l,_,f,r,m,g,o,u=[{loading:"lazy"},{src:m=a[1]!=="webpage"?`${c}/images/${a[1]}/999999.png`:void 0},{title:g=a[7]?a[8]?`failed to load ${a[1]} ${a[0]}`:a[2]||a[0]:"loading..."},{alt:o=a[2]||a[0]},a[3]],t={};for(let e=0;e<u.length;e+=1)t=R(t,u[e]);return{c(){n=d("picture"),l=d("source"),f=U(),r=d("img"),this.h()},l(e){n=h(e,"PICTURE",{class:!0});var i=B(n);l=h(i,"SOURCE",{srcset:!0,type:!0}),f=N(i),r=h(i,"IMG",{loading:!0,src:!0,title:!0,alt:!0}),i.forEach(k),this.h()},h(){b(l,"srcset",_=a[1]!=="webpage"?`${c}/images/${a[1]}_webp/999999.webp`:void 0),b(l,"type","image/webp"),C(r,t),b(n,"class",a[4])},m(e,i){P(e,n,i),w(n,l),a[10](l),w(n,f),w(n,r),a[11](r)},p(e,[i]){i&2&&_!==(_=e[1]!=="webpage"?`${c}/images/${e[1]}_webp/999999.webp`:void 0)&&b(l,"srcset",_),C(r,t=Q(u,[{loading:"lazy"},i&2&&!T(r.src,m=e[1]!=="webpage"?`${c}/images/${e[1]}/999999.png`:void 0)&&{src:m},i&391&&g!==(g=e[7]?e[8]?`failed to load ${e[1]} ${e[0]}`:e[2]||e[0]:"loading...")&&{title:g},i&5&&o!==(o=e[2]||e[0])&&{alt:o},i&8&&e[3]])),i&16&&b(n,"class",e[4])},i:E,o:E,d(e){e&&k(n),a[10](null),a[11](null)}}}function A(a,n,l){let{img:_}=n,{type:f}=n,{alt:r=void 0}=n,{props:m={}}=n,{force_png:g=!1}=n,{picture_class:o="inline-block"}=n,u,t,e=!1,i=!1;X(()=>{const s=`${c}/images/${f}/${_}.png`,y=`${c}/images/${f}_webp/${_}.webp`;let I=!1;const p=new Image;p.src=g?s:y,p.onload=()=>{l(7,e=!0),t&&l(6,t.src=s,t),u&&l(5,u.srcset=!g&&!I?y:s,u)},p.onerror=()=>{p.src.indexOf(s)<=-1?(I=!0,p.src=s):l(8,i=!0)}});function S(s){O[s?"unshift":"push"](()=>{u=s,l(5,u)})}function q(s){O[s?"unshift":"push"](()=>{t=s,l(6,t)})}return a.$$set=s=>{"img"in s&&l(0,_=s.img),"type"in s&&l(1,f=s.type),"alt"in s&&l(2,r=s.alt),"props"in s&&l(3,m=s.props),"force_png"in s&&l(9,g=s.force_png),"picture_class"in s&&l(4,o=s.picture_class)},[_,f,r,m,o,u,t,e,i,g,S,q]}class H extends z{constructor(n){super(),G(this,n,A,j,M,{img:0,type:1,alt:2,props:3,force_png:9,picture_class:4})}}export{H as I};
