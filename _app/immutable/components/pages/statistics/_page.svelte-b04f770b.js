import{S as We,i as Ye,s as Ze,X as xe,a2 as et,k,a as P,q as T,w as X,am as tt,l as w,h as m,c as A,m as E,r as H,x as K,n as _,G as p,b as C,y as W,u as ne,f as I,d as ee,a3 as lt,t as V,I as st,z as Y,ag as Ce,J as nt,g as te,_ as de,$ as ve}from"../../../chunks/index-43e1abcd.js";import{S as at,a as rt}from"../../../chunks/Segment-9d45ce49.js";import{C as it}from"../../../chunks/SmuiElement-3dfbd387.js";import{I as ce}from"../../../chunks/Image-c10a6e77.js";import{f as oe,c as ot}from"../../../chunks/tslib.es6-dde3cc1d.js";import{e as ge}from"../../../chunks/equipment.api-9335ebbd.js";import{q as ct}from"../../../chunks/user.api-b787ad68.js";import{r as ft}from"../../../chunks/recipe.api-e5cebb0c.js";function Ne(c,l,e){const t=c.slice();return t[15]=l[e],t}function Te(c,l,e){const t=c.slice();return t[15]=l[e],t}function He(c,l,e){const t=c.slice();return t[15]=l[e],t}function Oe(c,l,e){const t=c.slice();return t[15]=l[e],t}function Je(c,l,e){const t=c.slice();return t[25]=l[e],t[27]=e,t}function Qe(c){let l,e,t,h,i,r,g;e=new ce({props:{img:`99${c[27]+1}999`,type:"items",alt:`ignore rarity ${c[27]+1}`,props:{draggable:!1}}});function $(){return c[6](c[27])}return{c(){l=k("button"),X(e.$$.fragment),t=P(),this.h()},l(f){l=w(f,"BUTTON",{class:!0});var a=E(l);K(e.$$.fragment,a),t=A(a),a.forEach(m),this.h()},h(){_(l,"class",h=Ce("transition-all h-12 w-12"+(c[0][c[27]+1]?" hover:grayscale-0 grayscale opacity-50 hover:opacity-80":""))+" svelte-1w5n4j8")},m(f,a){C(f,l,a),W(e,l,null),p(l,t),i=!0,r||(g=nt(l,"click",$),r=!0)},p(f,a){c=f,(!i||a&1&&h!==(h=Ce("transition-all h-12 w-12"+(c[0][c[27]+1]?" hover:grayscale-0 grayscale opacity-50 hover:opacity-80":""))+" svelte-1w5n4j8"))&&_(l,"class",h)},i(f){i||(I(e.$$.fragment,f),i=!0)},o(f){V(e.$$.fragment,f),i=!1},d(f){f&&m(l),Y(e),r=!1,g()}}}function ut(c){let l=c[24]+"",e;return{c(){e=T(l)},l(t){e=H(t,l)},m(t,h){C(t,e,h)},p(t,h){h&16777216&&l!==(l=t[24]+"")&&ne(e,l)},d(t){t&&m(e)}}}function ht(c){let l,e;return l=new it({props:{$$slots:{default:[ut]},$$scope:{ctx:c}}}),{c(){X(l.$$.fragment)},l(t){K(l.$$.fragment,t)},m(t,h){W(l,t,h),e=!0},p(t,h){const i={};h&285212672&&(i.$$scope={dirty:h,ctx:t}),l.$set(i)},i(t){e||(I(l.$$.fragment,t),e=!0)},o(t){V(l.$$.fragment,t),e=!1},d(t){Y(l,t)}}}function mt(c){let l,e;return l=new rt({props:{segment:c[24],$$slots:{default:[ht]},$$scope:{ctx:c}}}),{c(){X(l.$$.fragment)},l(t){K(l.$$.fragment,t)},m(t,h){W(l,t,h),e=!0},p(t,h){const i={};h&16777216&&(i.segment=t[24]),h&285212672&&(i.$$scope={dirty:h,ctx:t}),l.$set(i)},i(t){e||(I(l.$$.fragment,t),e=!0)},o(t){V(l.$$.fragment,t),e=!1},d(t){Y(l,t)}}}function Be(c){let l,e=[],t=new Map,h,i,r=[],g=new Map,$,f=c[2].slice(0,3);const a=n=>JSON.stringify(n[15]);for(let n=0;n<f.length;n+=1){let s=Oe(c,f,n),v=a(s);t.set(v,e[n]=Fe(v,s))}let o=c[2].slice(3);const d=n=>JSON.stringify(n[15]);for(let n=0;n<o.length;n+=1){let s=He(c,o,n),v=d(s);g.set(v,r[n]=ze(v,s))}return{c(){l=k("div");for(let n=0;n<e.length;n+=1)e[n].c();h=P(),i=k("div");for(let n=0;n<r.length;n+=1)r[n].c();this.h()},l(n){l=w(n,"DIV",{class:!0});var s=E(l);for(let S=0;S<e.length;S+=1)e[S].l(s);s.forEach(m),h=A(n),i=w(n,"DIV",{class:!0});var v=E(i);for(let S=0;S<r.length;S+=1)r[S].l(v);v.forEach(m),this.h()},h(){_(l,"class","flex flex-row flex-wrap gap-5 justify-center items-center"),_(i,"class","flex flex-row flex-wrap justify-center items-center gap-1")},m(n,s){C(n,l,s);for(let v=0;v<e.length;v+=1)e[v].m(l,null);C(n,h,s),C(n,i,s);for(let v=0;v<r.length;v+=1)r[v].m(i,null);$=!0},p(n,s){s&4&&(f=n[2].slice(0,3),te(),e=de(e,s,a,1,n,f,t,l,ve,Fe,null,Oe),ee()),s&4&&(o=n[2].slice(3),te(),r=de(r,s,d,1,n,o,g,i,ve,ze,null,He),ee())},i(n){if(!$){for(let s=0;s<f.length;s+=1)I(e[s]);for(let s=0;s<o.length;s+=1)I(r[s]);$=!0}},o(n){for(let s=0;s<e.length;s+=1)V(e[s]);for(let s=0;s<r.length;s+=1)V(r[s]);$=!1},d(n){n&&m(l);for(let s=0;s<e.length;s+=1)e[s].d();n&&m(h),n&&m(i);for(let s=0;s<r.length;s+=1)r[s].d()}}}function Fe(c,l){let e,t,h,i,r=l[15][1]+"",g,$,f;return t=new ce({props:{img:`${l[15][0]}`,type:"items",alt:`${l[15][0]}`,props:{draggable:!1,width:96,height:96}}}),{key:c,first:null,c(){e=k("div"),X(t.$$.fragment),h=P(),i=k("span"),g=T(r),$=P(),this.h()},l(a){e=w(a,"DIV",{class:!0});var o=E(e);K(t.$$.fragment,o),h=A(o),i=w(o,"SPAN",{class:!0});var d=E(i);g=H(d,r),d.forEach(m),$=A(o),o.forEach(m),this.h()},h(){_(i,"class","amount top svelte-1w5n4j8"),_(e,"class","relative"),this.first=e},m(a,o){C(a,e,o),W(t,e,null),p(e,h),p(e,i),p(i,g),p(e,$),f=!0},p(a,o){l=a;const d={};o&4&&(d.img=`${l[15][0]}`),o&4&&(d.alt=`${l[15][0]}`),t.$set(d),(!f||o&4)&&r!==(r=l[15][1]+"")&&ne(g,r)},i(a){f||(I(t.$$.fragment,a),f=!0)},o(a){V(t.$$.fragment,a),f=!1},d(a){a&&m(e),Y(t)}}}function ze(c,l){let e,t,h,i,r=l[15][1]+"",g,$,f;return t=new ce({props:{img:`${l[15][0]}`,type:"items",alt:`${l[15][0]}`,props:{draggable:!1,width:48,height:48}}}),{key:c,first:null,c(){e=k("div"),X(t.$$.fragment),h=P(),i=k("span"),g=T(r),$=P(),this.h()},l(a){e=w(a,"DIV",{class:!0});var o=E(e);K(t.$$.fragment,o),h=A(o),i=w(o,"SPAN",{class:!0});var d=E(i);g=H(d,r),d.forEach(m),$=A(o),o.forEach(m),this.h()},h(){_(i,"class","amount svelte-1w5n4j8"),_(e,"class","relative"),this.first=e},m(a,o){C(a,e,o),W(t,e,null),p(e,h),p(e,i),p(i,g),p(e,$),f=!0},p(a,o){l=a;const d={};o&4&&(d.img=`${l[15][0]}`),o&4&&(d.alt=`${l[15][0]}`),t.$set(d),(!f||o&4)&&r!==(r=l[15][1]+"")&&ne(g,r)},i(a){f||(I(t.$$.fragment,a),f=!0)},o(a){V(t.$$.fragment,a),f=!1},d(a){a&&m(e),Y(t)}}}function Ge(c){let l,e=[],t=new Map,h,i,r=[],g=new Map,$,f=c[3].slice(0,3);const a=n=>JSON.stringify(n[15]);for(let n=0;n<f.length;n+=1){let s=Te(c,f,n),v=a(s);t.set(v,e[n]=Le(v,s))}let o=c[3].slice(3);const d=n=>JSON.stringify(n[15]);for(let n=0;n<o.length;n+=1){let s=Ne(c,o,n),v=d(s);g.set(v,r[n]=Ue(v,s))}return{c(){l=k("div");for(let n=0;n<e.length;n+=1)e[n].c();h=P(),i=k("div");for(let n=0;n<r.length;n+=1)r[n].c();this.h()},l(n){l=w(n,"DIV",{class:!0});var s=E(l);for(let S=0;S<e.length;S+=1)e[S].l(s);s.forEach(m),h=A(n),i=w(n,"DIV",{class:!0});var v=E(i);for(let S=0;S<r.length;S+=1)r[S].l(v);v.forEach(m),this.h()},h(){_(l,"class","flex flex-row flex-wrap gap-5 justify-center items-center"),_(i,"class","flex flex-row flex-wrap justify-center items-center gap-1")},m(n,s){C(n,l,s);for(let v=0;v<e.length;v+=1)e[v].m(l,null);C(n,h,s),C(n,i,s);for(let v=0;v<r.length;v+=1)r[v].m(i,null);$=!0},p(n,s){s&8&&(f=n[3].slice(0,3),te(),e=de(e,s,a,1,n,f,t,l,ve,Le,null,Te),ee()),s&8&&(o=n[3].slice(3),te(),r=de(r,s,d,1,n,o,g,i,ve,Ue,null,Ne),ee())},i(n){if(!$){for(let s=0;s<f.length;s+=1)I(e[s]);for(let s=0;s<o.length;s+=1)I(r[s]);$=!0}},o(n){for(let s=0;s<e.length;s+=1)V(e[s]);for(let s=0;s<r.length;s+=1)V(r[s]);$=!1},d(n){n&&m(l);for(let s=0;s<e.length;s+=1)e[s].d();n&&m(h),n&&m(i);for(let s=0;s<r.length;s+=1)r[s].d()}}}function Le(c,l){let e,t,h,i,r=l[15][1]+"",g,$,f;return t=new ce({props:{img:`${l[15][0]}`,type:"items",alt:`${l[15][0]}`,props:{draggable:!1,width:96,height:96}}}),{key:c,first:null,c(){e=k("div"),X(t.$$.fragment),h=P(),i=k("span"),g=T(r),$=P(),this.h()},l(a){e=w(a,"DIV",{class:!0});var o=E(e);K(t.$$.fragment,o),h=A(o),i=w(o,"SPAN",{class:!0});var d=E(i);g=H(d,r),d.forEach(m),$=A(o),o.forEach(m),this.h()},h(){_(i,"class","amount top svelte-1w5n4j8"),_(e,"class","relative"),this.first=e},m(a,o){C(a,e,o),W(t,e,null),p(e,h),p(e,i),p(i,g),p(e,$),f=!0},p(a,o){l=a;const d={};o&8&&(d.img=`${l[15][0]}`),o&8&&(d.alt=`${l[15][0]}`),t.$set(d),(!f||o&8)&&r!==(r=l[15][1]+"")&&ne(g,r)},i(a){f||(I(t.$$.fragment,a),f=!0)},o(a){V(t.$$.fragment,a),f=!1},d(a){a&&m(e),Y(t)}}}function Ue(c,l){let e,t,h,i,r=l[15][1]+"",g,$,f;return t=new ce({props:{img:`${l[15][0]}`,type:"items",alt:`${l[15][0]}`,props:{draggable:!1,width:48,height:48}}}),{key:c,first:null,c(){e=k("div"),X(t.$$.fragment),h=P(),i=k("span"),g=T(r),$=P(),this.h()},l(a){e=w(a,"DIV",{class:!0});var o=E(e);K(t.$$.fragment,o),h=A(o),i=w(o,"SPAN",{class:!0});var d=E(i);g=H(d,r),d.forEach(m),$=A(o),o.forEach(m),this.h()},h(){_(i,"class","amount svelte-1w5n4j8"),_(e,"class","relative"),this.first=e},m(a,o){C(a,e,o),W(t,e,null),p(e,h),p(e,i),p(i,g),p(e,$),f=!0},p(a,o){l=a;const d={};o&8&&(d.img=`${l[15][0]}`),o&8&&(d.alt=`${l[15][0]}`),t.$set(d),(!f||o&8)&&r!==(r=l[15][1]+"")&&ne(g,r)},i(a){f||(I(t.$$.fragment,a),f=!0)},o(a){V(t.$$.fragment,a),f=!1},d(a){a&&m(e),Y(t)}}}function pt(c){let l,e,t,h,i,r,g,$,f,a,o,d,n,s,v,S,y,j,Q,B,N,ae,J,fe,$e,qe=oe.getMaxRank()+"",be,ke,we,ye,ue,z,L,Z,Ee,le,G,De,Se,F,he,re,x=c[5],D=[];for(let u=0;u<x.length;u+=1)D[u]=Qe(Je(c,x,u));const Xe=u=>V(D[u],1,1,()=>{D[u]=null});function Ke(u){c[7](u)}let Re={segments:["equipment","fragments"],singleSelect:!0,$$slots:{default:[mt,({segment:u})=>({24:u}),({segment:u})=>u?16777216:0]},$$scope:{ctx:c}};c[1]!==void 0&&(Re.selected=c[1]),G=new at({props:Re}),xe.push(()=>et(G,"selected",Ke,c[1]));let q=c[1]==="equipment"&&Be(c),R=c[1]==="fragments"&&Ge(c);return{c(){l=k("meta"),e=k("meta"),t=k("meta"),h=k("meta"),i=k("meta"),r=k("meta"),g=k("meta"),$=k("meta"),f=P(),a=k("div"),o=k("h1"),d=T("Princess Connect! Re:Dive - Quest Helper"),n=P(),s=k("h2"),v=T("Statistics"),S=P(),y=k("h1"),j=T("priconne-quest-helper │ Statistics"),Q=P(),B=k("div"),N=k("div"),ae=T("Data from "),J=k("span"),fe=T(c[4]),$e=T(` characters
        (Rank 1 to Rank `),be=T(qe),ke=T(" | "),we=T(se),ye=T(")"),ue=P(),z=k("section"),L=k("div"),Z=k("div");for(let u=0;u<D.length;u+=1)D[u].c();Ee=P(),le=k("div"),X(G.$$.fragment),Se=P(),F=k("div"),q&&q.c(),he=P(),R&&R.c(),this.h()},l(u){const b=tt("svelte-1vkm33h",document.head);l=w(b,"META",{name:!0,content:!0}),e=w(b,"META",{name:!0,content:!0}),t=w(b,"META",{property:!0,content:!0}),h=w(b,"META",{property:!0,content:!0}),i=w(b,"META",{property:!0,content:!0}),r=w(b,"META",{property:!0,content:!0}),g=w(b,"META",{property:!0,content:!0}),$=w(b,"META",{property:!0,content:!0}),b.forEach(m),f=A(u),a=w(u,"DIV",{class:!0});var O=E(a);o=w(O,"H1",{class:!0});var M=E(o);d=H(M,"Princess Connect! Re:Dive - Quest Helper"),M.forEach(m),n=A(O),s=w(O,"H2",{class:!0});var ie=E(s);v=H(ie,"Statistics"),ie.forEach(m),S=A(O),y=w(O,"H1",{class:!0});var je=E(y);j=H(je,"priconne-quest-helper │ Statistics"),je.forEach(m),O.forEach(m),Q=A(u),B=w(u,"DIV",{class:!0});var Pe=E(B);N=w(Pe,"DIV",{class:!0});var U=E(N);ae=H(U,"Data from "),J=w(U,"SPAN",{class:!0});var Ae=E(J);fe=H(Ae,c[4]),Ae.forEach(m),$e=H(U,` characters
        (Rank 1 to Rank `),be=H(U,qe),ke=H(U," | "),we=H(U,se),ye=H(U,")"),U.forEach(m),Pe.forEach(m),ue=A(u),z=w(u,"SECTION",{class:!0});var me=E(z);L=w(me,"DIV",{class:!0});var pe=E(L);Z=w(pe,"DIV",{class:!0});var Me=E(Z);for(let Ie=0;Ie<D.length;Ie+=1)D[Ie].l(Me);Me.forEach(m),Ee=A(pe),le=w(pe,"DIV",{class:!0});var Ve=E(le);K(G.$$.fragment,Ve),Ve.forEach(m),pe.forEach(m),Se=A(me),F=w(me,"DIV",{class:!0});var _e=E(F);q&&q.l(_e),he=A(_e),R&&R.l(_e),_e.forEach(m),me.forEach(m),this.h()},h(){document.title="Princess Connect! Re:Dive - Quest Helper | Statistics",_(l,"name","title"),_(l,"content","Princess Connect! Re:Dive - Quest Helper | Statistics"),_(e,"name","description"),_(e,"content","Equipment usage statistics for 'Princess Connect! Re:Dive' （プリンセスコネクト! Re:Dive）, based on the data used in priconne-quest-helper."),_(t,"property","og:title"),_(t,"content","Princess Connect! Re:Dive - Quest Helper | Statistics"),_(h,"property","og:description"),_(h,"content","Equipment usage statistics for 'Princess Connect! Re:Dive' （プリンセスコネクト! Re:Dive）, based on the data used in priconne-quest-helper."),_(i,"property","og:image"),_(i,"content","https://raw.githubusercontent.com/Spugn/priconne-quest-helper/master/static/logo128.png"),_(r,"property","og:url"),_(r,"content","https://spugn.github.io/priconne-quest-helper/statistics/"),_(g,"property","twitter:title"),_(g,"content","Princess Connect! Re:Dive - Quest Helper | Statistics"),_($,"property","twitter:description"),_($,"content","Equipment usage statistics for 'Princess Connect! Re:Dive' （プリンセスコネクト! Re:Dive）, based on the data used in priconne-quest-helper."),_(o,"class","title text-[5vw] sm:text-3xl svelte-1w5n4j8"),_(s,"class","title text-[4vw] sm:text-2xl tracking-widest svelte-1w5n4j8"),_(y,"class","title simple svelte-1w5n4j8"),_(a,"class","color-aliceblue text-center text-shadow-md font-bold py-3.5 mb-3 text-white"),_(J,"class","text-green-500"),_(N,"class","float-right relative bottom-0 right-2 py-1"),_(B,"class","info bg-black/[0.5] w-full svelte-1w5n4j8"),_(Z,"class","flex flex-row justify-center items-center gap-2"),_(le,"class","flex justify-center items-center"),_(L,"class","flex flex-col gap-2 mb-4"),_(F,"class","flex flex-col gap-1 sm:px-10"),_(z,"class","pb-10")},m(u,b){p(document.head,l),p(document.head,e),p(document.head,t),p(document.head,h),p(document.head,i),p(document.head,r),p(document.head,g),p(document.head,$),C(u,f,b),C(u,a,b),p(a,o),p(o,d),p(a,n),p(a,s),p(s,v),p(a,S),p(a,y),p(y,j),C(u,Q,b),C(u,B,b),p(B,N),p(N,ae),p(N,J),p(J,fe),p(N,$e),p(N,be),p(N,ke),p(N,we),p(N,ye),C(u,ue,b),C(u,z,b),p(z,L),p(L,Z);for(let O=0;O<D.length;O+=1)D[O].m(Z,null);p(L,Ee),p(L,le),W(G,le,null),p(z,Se),p(z,F),q&&q.m(F,null),p(F,he),R&&R.m(F,null),re=!0},p(u,[b]){if((!re||b&16)&&ne(fe,u[4]),b&1){x=u[5];let M;for(M=0;M<x.length;M+=1){const ie=Je(u,x,M);D[M]?(D[M].p(ie,b),I(D[M],1)):(D[M]=Qe(ie),D[M].c(),I(D[M],1),D[M].m(Z,null))}for(te(),M=x.length;M<D.length;M+=1)Xe(M);ee()}const O={};b&285212672&&(O.$$scope={dirty:b,ctx:u}),!De&&b&2&&(De=!0,O.selected=u[1],lt(()=>De=!1)),G.$set(O),u[1]==="equipment"?q?(q.p(u,b),b&2&&I(q,1)):(q=Be(u),q.c(),I(q,1),q.m(F,he)):q&&(te(),V(q,1,1,()=>{q=null}),ee()),u[1]==="fragments"?R?(R.p(u,b),b&2&&I(R,1)):(R=Ge(u),R.c(),I(R,1),R.m(F,null)):R&&(te(),V(R,1,1,()=>{R=null}),ee())},i(u){if(!re){for(let b=0;b<x.length;b+=1)I(D[b]);I(G.$$.fragment,u),I(q),I(R),re=!0}},o(u){D=D.filter(Boolean);for(let b=0;b<D.length;b+=1)V(D[b]);V(G.$$.fragment,u),V(q),V(R),re=!1},d(u){m(l),m(e),m(t),m(h),m(i),m(r),m(g),m($),u&&m(f),u&&m(a),u&&m(Q),u&&m(B),u&&m(ue),u&&m(z),st(D,u),Y(G),q&&q.d(),R&&R.d()}}}let se="JP";function _t(c,l,e){let t={};const h=Array(ge.getMaxRarity());Object.keys(ct.name("1-1"));let i="equipment",r={},g={},$=[],f=[],a=0;function o(y,j){console.log("build",y,j),r={},g={},e(2,$=[]),e(3,f=[]),e(4,a=0),d(),n(),s()}function d(){for(const y in oe.data)if(oe.existsInRegion(y,se)){e(4,a++,a);for(let j=1,Q=oe.getMaxRank();j<=Q;j++){const B=oe.equipment(y,j);for(let N=0,ae=B.length;N<ae;N++){const J=B[N];J===ot.placeholder_id||!ge.existsInRegion(J,se)||(r[J]=(r[J]||0)+1)}}}}function n(){for(const y in r){const j=ft.build(y,r[y],se,t);for(const Q in j)g[Q]=(g[Q]||0)+j[Q]}}function s(){e(2,$=Object.keys(r).filter(y=>!t[ge.getRarityFromID(y)]).map(y=>[y,r[y]]).sort((y,j)=>j[1]-y[1])),e(3,f=Object.keys(g).filter(y=>!t[ge.getRarityFromID(y)]).map(y=>[y,g[y]]).sort((y,j)=>j[1]-y[1]))}const v=y=>{const j=y+1;e(0,t[j]=!t[j],t)};function S(y){i=y,e(1,i)}return c.$$.update=()=>{c.$$.dirty&1&&o(se,t)},[t,i,$,f,a,h,v,S]}class Et extends We{constructor(l){super(),Ye(this,l,_t,pt,Ze,{})}}export{Et as default};
